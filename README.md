# pachcabot
Bot class for pachca messenger API\
Developed with Python 3.7.9

Implemented methods:\
**–û–±—â–∏–µ –º–µ—Ç–æ–¥—ã:**\
‚úÖ –°–ø–∏—Å–æ–∫ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –ø–æ–ª–µ–π\
‚úÖ –ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–æ–≤\
**–°–æ—Ç—Ä—É–¥–Ω–∏–∫–∏:**\
‚úÖ –ù–æ–≤—ã–π —Å–æ—Ç—Ä—É–¥–Ω–∏–∫\
‚úÖ –°–ø–∏—Å–æ–∫ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤\
‚úÖ –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–µ\
‚úÖ –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞\
‚úÖ –£–¥–∞–ª–µ–Ω–∏–µ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞\
**–°—Ç–∞—Ç—É—Å:**\
‚ùå –¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å\
‚ùå –ù–æ–≤—ã–π —Å—Ç–∞—Ç—É—Å\
‚ùå –£–¥–∞–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞\
**–¢–µ–≥–∏:**\
‚úÖ –°–ø–∏—Å–æ–∫ —Ç–µ–≥–æ–≤ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤\
‚úÖ –°–ø–∏—Å–æ–∫ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ —Ç–µ–≥–∞\
**–ë–µ—Å–µ–¥—ã –∏ –∫–∞–Ω–∞–ª—ã:**\
‚úÖ –ù–æ–≤–∞—è –±–µ—Å–µ–¥–∞ –∏–ª–∏ –∫–∞–Ω–∞–ª\
‚úÖ –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –±–µ—Å–µ–¥–µ –∏ –∫–∞–Ω–∞–ª–µ\
‚úÖ –°–ø–∏—Å–æ–∫ –±–µ—Å–µ–¥ –∏ –∫–∞–Ω–∞–ª–æ–≤\
‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –±–µ—Å–µ–¥—ã –∏–ª–∏ –∫–∞–Ω–∞–ª–∞\
**–£—á–∞—Å—Ç–Ω–∏–∫–∏ –±–µ—Å–µ–¥ –∏ –∫–∞–Ω–∞–ª–æ–≤:**\
‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π\
‚úÖ –ò—Å–∫–ª—é—á–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è\
‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ç–µ–≥–æ–≤\
‚úÖ –ò—Å–∫–ª—é—á–µ–Ω–∏–µ —Ç–µ–≥–∞\
**–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏:**\
‚úÖ –ù–æ–≤—ã–π —Ç—Ä–µ–¥\
**–°–æ–æ–±—â–µ–Ω–∏—è:**\
‚úÖ –ù–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ\
‚úÖ –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Å–æ–æ–±—â–µ–Ω–∏–∏\
‚úÖ –°–ø–∏—Å–æ–∫ —Å–æ–æ–±—â–µ–Ω–∏–π —á–∞—Ç–∞\
‚úÖ –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è\
**–†–µ–∞–∫—Ü–∏–∏ –Ω–∞ —Å–æ–æ–±—â–µ–Ω–∏—è:**\
‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ä–µ–∞–∫—Ü–∏–∏\
‚úÖ –£–¥–∞–ª–µ–Ω–∏–µ —Ä–µ–∞–∫—Ü–∏–∏\
‚úÖ –°–ø–∏—Å–æ–∫ —Ä–µ–∞–∫—Ü–∏–π\
**–ó–∞–¥–∞—á–∏:**\
‚úÖ –ù–æ–≤–∞—è –∑–∞–¥–∞—á–∞

Example main.py:
```
import pachca
from pachca.types import Message
from pachca.types import Reaction

AUTH_TOKEN = YOUR_API_TOKEN_GOES_HERE       # string  # required!
TARGET_CHAT = GROUP_ENTITY_ID_GOES_HERE     # integer # for the sake of example
BOT_ID = BOT_USER_ID_GOES_HERE              # integer # for the sake of example

HOST = "localhost"
PORT = 5000

def say_happy_birthday(msg):
  bot.message_reply_in_thread(msg.id, "Happy Birthday!!!üéÇüéÇüéÇ")
  bot.message_add_reaction(msg.id, 'üéÇ')

bot = pachca.Client(AUTH_TOKEN)

birthday_boy = bot.users_get_all(filters="Smith")[0]

@bot.on_message
def message_handler(msg:Message):
    if msg.user_id == BOT_ID:
        return
    if birthday_boy and msg.user_id == birthday_boy.id:
        print(f'New message from {birthday_boy.last_name} {birthday_boy.first_name}: {msg.content}')   
        say_happy_birthday(msg)       

@bot.on_message_delete
def message_handler(msg:Message):
    user = bot.user_get_info(msg.user_id)
    print(f'{user.first_name} {user.last_name} deleted message {msg.content}')

@bot.on_message_edit
def message_handler(msg:Message):
    user = bot.user_get_info(msg.user_id)
    print(f'{user.first_name} {user.last_name} edited message {msg.content}')

@bot.on_reaction_remove
def message_handler(react:Reaction):
    msg = bot.message_get_info(react.message_id)
    user = bot.user_get_info(react.user_id)
    print(f'Reaction {react.code} removed by {user.first_name} {user.last_name} from the message {msg.content}')

@bot.on_reaction_add
def message_handler(react:Reaction):
    msg = bot.message_get_info(react.message_id)
    user = bot.user_get_info(react.user_id)
    print(f'Reaction {react.code} added by {user.first_name} {user.last_name} to the message {msg.content}')

@bot.on_ready
def say_hello():
    rooms = bot.rooms_get_all()
    for room in rooms:
        bot.message_send_in_room(room.id, "I'm alive!")

bot.run(HOST, PORT)    
```
